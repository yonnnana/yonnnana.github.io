const mapping = {
'あ': '3333',
'い': '3334',
'う': '3337',
'え': '3339',
'お': '3343',
'か': '3344',
'き': '3347',
'く': '3349',
'け': '3373',
'こ': '3374',
'さ': '3377',
'し': '3379',
'す': '3393',
'せ': '3394',
'そ': '3397',
'た': '3399',
'ち': '3433',
'つ': '3434',
'て': '3437',
'と': '3439',
'な': '3443',
'に': '3444',
'ぬ': '3447',
'ね': '3449',
'の': '3473',
'は': '3474',
'ひ': '3477',
'ふ': '3479',
'へ': '3493',
'ほ': '3494',
'ま': '3497',
'み': '3499',
'む': '3733',
'め': '3734',
'も': '3737',
'や': '3739',
'ゆ': '3743',
'よ': '3744',
'ら': '3747',
'り': '3749',
'る': '3773',
'れ': '3774',
'ろ': '3777',
'わ': '3779',
'を': '3793',
'ん': '3794',
'が': '3797',
'ぎ': '3799',
'ぐ': '3933',
'げ': '3934',
'ご': '3937',
'ざ': '3939',
'じ': '3943',
'ず': '3944',
'ぜ': '3947',
'ぞ': '3949',
'だ': '3973',
'ぢ': '3974',
'づ': '3977',
'で': '3979',
'ど': '3993',
'ば': '3994',
'び': '3997',
'ぶ': '3999',
'べ': '4333',
'ぼ': '4334',
'ぁ': '4337',
'ぃ': '4339',
'ぅ': '4343',
'ぇ': '4344',
'ぉ': '4347',
'っ': '4349',
'ゃ': '4373',
'ゅ': '4374',
'ょ': '4377',
'ゎ': '4379',
'。': '4393',
'、': '4394',
'１': '4397',
'２': '4399',
'３': '4433',
'４': '4434',
'５': '4437',
'６': '4439',
'７': '4443',
'８': '4444',
'９': '4447',
'０': '4449',
'！': '4473',
'？': '4474',
'ア': '4477',
'イ': '4479',
'ウ': '4493',
'エ': '4494',
'オ': '4497',
'カ': '4499',
'キ': '4733',
'ク': '4734',
'ケ': '4737',
'コ': '4739',
'サ': '4743',
'シ': '4744',
'ス': '4747',
'セ': '4749',
'ソ': '4773',
'タ': '4774',
'チ': '4777',
'ツ': '4779',
'テ': '4793',
'ト': '4794',
'ナ': '4797',
'ニ': '4799',
'ヌ': '4933',
'ネ': '4934',
'ノ': '4937',
'ハ': '4939',
'ヒ': '4943',
'フ': '4944',
'ヘ': '4947',
'ホ': '4949',
'マ': '4973',
'ミ': '4974',
'ム': '4977',
'メ': '4979',
'モ': '4993',
'ヤ': '4994',
'ユ': '4997',
'ヨ': '4999',
'ラ': '7333',
'リ': '7334',
'ル': '7337',
'レ': '7339',
'ロ': '7343',
'ワ': '7344',
'ヰ': '7347',
'ウ': '7349',
'ヱ': '7373',
'ヲ': '7374',
'ン': '7377',
'ヴ': '7379',
'ガ': '7393',
'ギ': '7394',
'グ': '7397',
'ゲ': '7399',
'ゴ': '7433',
'ザ': '7434',
'ジ': '7437',
'ズ': '7439',
'ゼ': '7443',
'ゾ': '7444',
'ダ': '7447',
'ヂ': '7449',
'ヅ': '7473',
'デ': '7474',
'ド': '7477',
'バ': '7479',
'ビ': '7493',
'ブ': '7494',
'ベ': '7497',
'ボ': '7499',
'ヷ': '7733',
'ヸ': '7734',
'ヹ': '7737',
'ヺ': '7739',
'ぱ': '7743',
'ぴ': '7744',
'ぷ': '7747',
'ぺ': '7749',
'ぽ': '7773',
'パ': '7774',
'ピ': '7777',
'プ': '7779',
'ペ': '7793',
'ポ': '7794',
'ァ': '7797',
'ィ': '7799',
'ゥ': '7933',
'ェ': '7934',
'ォ': '7937',
'ヵ': '7939',
'ㇰ': '7943',
'ヶ': '7944',
'ㇱ': '7947',
'ㇲ': '7949',
'ッ': '7973',
'ㇳ': '7974',
'ㇴ': '7977',
'ㇵ': '7979',
'ㇶ': '7993',
'ㇷ': '7994',
'ㇸ': '7997',
'ㇹ': '7999',
'ㇺ': '9333',
'ャ': '9334',
'ュ': '9337',
'ョ': '9339',
'ㇻ': '9343',
'ㇼ': '9344',
'ㇽ': '9347',
'ㇾ': '9349',
'ㇿ': '9373',
'ヮ': '9374',
'ー': '9377',
'～': '9379',
'Ａ': '9393',
'Ｂ': '9394',
'Ｃ': '9397',
'Ｄ': '9399',
'Ｅ': '9433',
'Ｆ': '9434',
'Ｇ': '9437',
'Ｈ': '9439',
'Ｉ': '9443',
'Ｊ': '9444',
'Ｋ': '9447',
'Ｌ': '9449',
'Ｍ': '9473',
'Ｎ': '9474',
'Ｏ': '9477',
'Ｐ': '9479',
'Ｑ': '9493',
'Ｒ': '9494',
'Ｓ': '9497',
'Ｔ': '9499',
'Ｕ': '9733',
'Ｖ': '9734',
'Ｗ': '9737',
'Ｘ': '9739',
'Ｙ': '9743',
'Ｚ': '9744',
'ａ': '9747',
'ｂ': '9749',
'ｃ': '9773',
'ｄ': '9774',
'ｅ': '9777',
'ｆ': '9779',
'ｇ': '9793',
'ｈ': '9794',
'ｉ': '9797',
'ｊ': '9799',
'ｋ': '9933',
'ｌ': '9934',
'ｍ': '9937',
'ｎ': '9939',
'ｏ': '9943',
'ｐ': '9944',
'ｑ': '9947',
'ｒ': '9949',
'ｓ': '9973',
'ｔ': '9974',
'ｕ': '9977',
'ｖ': '9979',
'ｗ': '9993',
'ｘ': '9994',
'ｙ': '9997',
'ｚ': '9999'
  };

function encrypt(text) {
    return text.split('').map(char => mapping[char] || char).join('');
  }
  
  function decrypt(code) {
    const reverseMapping = Object.fromEntries(
      Object.entries(mapping).map(([key, value]) => [value, key])
    );
    return code.match(/.{4}/g).map(chunk => reverseMapping[chunk] || chunk).join('');
  }
  
  function handleEncrypt() {
    const encrypt_text = document.getElementById('encrypt-text').value;
    const output = encrypt(encrypt_text);
    document.getElementById('decrypt-text').value = output;
  }

  function handleDecrypt() {
    const decrypt_text = document.getElementById('decrypt-text').value;
    const output = decrypt(decrypt_text);
    document.getElementById('encrypt-text').value = output;
  }